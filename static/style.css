/* ===== 色変数 ===== */
:root{
  --bg:#ffffff;
  --text:#222;
  --card:#ffffff;
  --border:rgba(0,0,0,0.06);
  --accent:#0b6cff;
}
body.dark{
  --bg:#000000;
  --text:#e0e0e0;
  --card:#000000;
  --border:rgba(255,255,255,0.08);
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:"Helvetica Neue",Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
}

.container{
  width:95%;
  max-width:1100px;
  margin:28px auto;
  background:var(--card);
  border-radius:12px;
  padding:16px;
  box-shadow:0 6px 30px rgba(0,0,0,0.06);
}

.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.topbar h1{margin:0;font-size:22px}

/* テーマ切替ボタン用 */
.theme-btn{
  padding:6px 14px;
  min-width:110px;
  font-size:14px;
  border-radius:6px;
  border:1px solid var(--border);
  background:transparent;
  cursor:pointer;
  color:var(--text);
}

#map{width:100%;height:420px;border-top-left-radius:12px;border-top-right-radius:12px;background:#fff;margin-bottom:12px}

.card{
  background:var(--card);
  border-radius:8px;
  padding:12px;
  border:1px solid var(--border);
}
.row{display:flex;gap:8px;margin-top:10px}
button{padding:6px 10px;border-radius:6px;border:none;background:var(--accent);color:#fff;cursor:pointer}

#weather-row{display:flex;gap:12px;margin-bottom:12px}
#current-weather,#overlay-hourly{flex:1;min-width:0}

#overlay-scroll{
  display:flex;gap:10px;overflow-x:auto;padding:6px 0;white-space:nowrap
}
.overlay-hour-tile{
  min-width:84px;padding:8px;border-radius:8px;
  border:1px solid var(--border);text-align:center;
  background:rgba(11,108,255,0.06)
}

.chart-wrap{margin-top:8px}
#hourly-chart{width:100% !important;height:160px !important}

/* popup fade */
.leaflet-popup.fade-away{animation:fadeaway .6s ease forwards}
@keyframes fadeaway{
  0%{opacity:1;transform:translateY(0)}
  100%{opacity:0;transform:translateY(-6px)}
}

/* ダークモードでもタイル白維持 */
body.dark .leaflet-container,
body.dark .leaflet-popup-content-wrapper,
body.dark .leaflet-popup-tip{
  background:#fff !important;color:#111 !important;filter:none !important;
}

@media(max-width:900px){
  #map{height:300px}
  #weather-row{flex-direction:column}
  #overlay-scroll .overlay-hour-tile{min-width:70px}
}
